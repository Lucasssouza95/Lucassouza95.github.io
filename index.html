<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Checkout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--<link rel="stylesheet" type="text/css" media="screen" href="main.css" />
<script src="main.js"></script>-->
</head>
<body>
  <button class="pagamento">Realizar Pagamento</button>
  <script>
  var tagbody = document.body,
  tagscript = document.createElement('script');
 
 function insertScript(token){
  tagbody.appendChild(tagscript);
 
 tagscript.setAttribute('data-getnet-sellerid', 'f4140cee-bd5f-4830-8388-36977602e1d1');
  tagscript.setAttribute('data-getnet-token', token);
  tagscript.setAttribute('data-getnet-amount', '1.00');
  tagscript.setAttribute('data-getnet-customerid', '191d5548-ec16-1aab-c739-84599ceab6');
  tagscript.setAttribute('data-getnet-orderid', '3710f91f-5af4-aa24-bb27-4d673770e4');
  tagscript.setAttribute('data-getnet-button-class', 'pagamento');
  tagscript.setAttribute('data-getnet-installments', '6');
  tagscript.setAttribute('data-getnet-customer-first-name', 'Carlos');
  tagscript.setAttribute('data-getnet-customer-last-name', 'Eduardo');
  tagscript.setAttribute('data-getnet-customer-document-type', 'CPF');
  tagscript.setAttribute('data-getnet-customer-document-number', '22233344465');
  tagscript.setAttribute('data-getnet-customer-email', 'teste@getnet.com.br');
  tagscript.setAttribute('data-getnet-customer-phone-number', '55988885555');
  tagscript.setAttribute('data-getnet-customer-address-street', 'Av dos Municipios');
  tagscript.setAttribute('data-getnet-customer-address-street-number', '1711');
  tagscript.setAttribute('data-getnet-customer-address-complementary', '');
  tagscript.setAttribute('data-getnet-customer-address-neighborhood', 'Santa Lucia');
  tagscript.setAttribute('data-getnet-customer-address-city', 'Campo Bom');
  tagscript.setAttribute('data-getnet-customer-address-state', 'RS');
  tagscript.setAttribute('data-getnet-customer-address-zipcode', '93700000');
  tagscript.setAttribute('data-getnet-customer-country', 'Brasil');
  tagscript.setAttribute('data-getnet-shipping-address', '[{ "first_name": "João", "name": "João Borgas", "email": "joaoborgas@gmail.com", "phone_number": "", "shipping_amount": 10, "address": { "street": "Rua dos Pagamentos", "complement": "", "number": "171", "district": "Centro", "city": "São Paulo", "state": "SP", "country": "Brasil", "postal_code": "12345678"}}]');
  tagscript.setAttribute('data-getnet-items', '[{"name": "","description": "", "value": 0, "quantity": 0,"sku": ""}]');
  tagscript.setAttribute('data-getnet-url-callback', '');
 
  tagscript.src = "https://checkout.getnet.com.br/loader.js";
}
 
 

  var data = "scope=oob&grant_type=client_credentials",
  bodyresponse,
  base64,
  xhr = new XMLHttpRequest();
 
 xhr.addEventListener("readystatechange", function(){
  if(this.readyState === 4){
  bodyresponse = JSON.parse(this.responseText);
  token = bodyresponse.token_type + ' ' + bodyresponse.access_token;
  insertScript(token);
  console.log(bodyresponse);
}
});
 
 
 base64 = btoa("360d564b-82b1-4176-ab12-4f4303f295e3:269d499a-3581-4e07-9880-80380988b00f");
 
 xhr.open("POST", "https://api.getnet.com.br/auth/oauth/v2/token");
  xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
  xhr.setRequestHeader("authorization", "Basic " + base64);
  xhr.send(data);
 
 
 </script>
</body>
</html>
